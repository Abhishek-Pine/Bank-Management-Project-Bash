#!/bin/bash

clear
echo -e "\n\tNew Account Opening Form"
echo -e "\n\n\tEnter Details"

echo -en "\nEnter First Name : "
read fname

echo -en "\nEnter Last Name : "
read lname

echo -en "\nEnter Address : "
read ad

echo -en "\nEnter Date of Birth (dd/mm/yyyy) : "
read dob

echo -en "\nEnter Aadhar No : "
read adh

echo -en "\nEnter Email : "
read email

echo -en "\nEnter Mobile No : "
read ph

echo -en "\nSelect Account Type : \n1. Saving\n2. Current  : "
read tp
case $tp in
1)
typ="Saving";;
2)
typ="Current";;
esac

echo -en "\nEnter Password : "
read -s pas
echo -e "\n\nWait For 1 minute"

state1 : 
rd=$RANDOM

let "tok=2345+rd"
if [ -f "$tok" ];
then
goto state1:;
else
echo -en "\n$typ\n$pas\n$fname $lname\n$ad\n$dob\n$adh\n$email\n$ph\n" > ./forms/$tok 
echo -e "$tok | $fname $lname" >> ./foracc
fi

echo -e "Dear $fname $lname , Your New Account Opening Application $tok is in process.Kindly Visit your nearest branch for Physical Verification with your documents.\n\n\n\nFor Further Enquires ,Please Visit Branch\nThank-you For Choosing Our Bank\n\n\n*****This Mail is Automatically Generated *****" | mail -s "New Bank Account Form Details" $email
echo -e "\nYour Token No : $tok \n\nPress Any Key To Continue "
read gap
